<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sign Up</title>
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:100,300,300i,400|Prata">
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link rel="stylesheet" href="/stylesheets/card.css">
</head>
<body>
<div class="sign-up-log-in-page-container">
  <div class="sign-up-img-container">
    <div class="sign-up-log-in-img" style="background-image: url('/images/annis/cover-carl-gauss.jpg')"></div>
  </div>
  <div class="sign-up-log-in-page-content-container">
    <div class="sign-up-log-in-page-title">
      <h1>Welcome To</h1>
    </div>
    <div class="sign-up-log-in-page-logo">
      <svg width="70px" height="52px" viewBox="0 0 70 52" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g id="Desktop-HD" transform="translate(-193.000000, -169.000000)">
            <g id="Group" transform="translate(187.000000, 165.000000)">
              <path d="M43.7959227,20.5904128 L61.8993215,53.1765306 C63.7768138,56.5560168 62.5592072,60.8176398 59.1797211,62.6951321 C58.1398151,63.2728576 56.9698303,63.5760311 55.7802205,63.5760311 L19.573423,63.5760311 C15.7074297,63.5760311 12.573423,60.4420244 12.573423,56.5760311 C12.573423,55.3864214 12.8765965,54.2164366 13.4543221,53.1765306 L31.5577208,20.5904128 C33.4352131,17.2109267 37.6968362,15.9933201 41.0763223,17.8708124 C42.2190027,18.5056349 43.1611002,19.4477324 43.7959227,20.5904128 Z" id="Triangle-Copy" stroke="#C6A48F" transform="translate(37.676822, 36.576031) rotate(-200.000000) translate(-37.676822, -36.576031) "></path>
              <text id="anni" font-family="Avenir-Light, Avenir" font-size="24" font-weight="300" fill="#C6A48F">
                <tspan x="33" y="36">anni</tspan>
              </text>
            </g>
          </g>
        </g>
      </svg>
    </div>

    <div class="sign-up-input-container">
      <div class="sign-up-input input-form">
        <input type="text" placeholder="Username" id="input-name">
      </div>
      <div class="sign-up-input input-form">
        <input type="text" placeholder="Email" id="input-email">
      </div>
      <div class="sign-up-input input-form">
        <input type="password" placeholder="Password" id="input-password">
      </div>
    </div>
    <div class="sign-up-log-in-page-button-container">
      <a class="btn-primary" id="btn-signup">Sign Up</a>
    </div>

    <div class="have-an-account">
      <p>Already have an account? <a href="/login">Log in</a> now.</p>
    </div>

  </div>
</div>


<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script>
  function signup() {
    var data = {
      name: $('#input-name').val(),
      email: $('#input-email').val(),
      password: $('#input-password').val(),
    };
    // var anniId = $('#anni-id').val();
    var url = '/signup';

    console.log(data);

    $.ajax({
      method: 'POST',
      url: url,
      data: data,
      dataType: 'json',
    }).done(function(ret) {
      console.log(ret);
      if (ret.success) {
        // Succeeded
        console.log(ret.data);
        window.location.href = "/users";
      } else {
        // Failed
        console.log(ret.msg);
        alert(ret.msg);
        // location.reload();
      }
    });
  }

  $(document).ready(function(){
    $('#btn-signup').click(function(){
      signup();
    });
  });
</script>

</body>
</html>
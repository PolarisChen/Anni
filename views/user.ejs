<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>User</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:100,300,300i,400|Prata">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link rel="stylesheet" href="/stylesheets/jiaqi.css">
    <script>
        $(function() {
          $(".userHeader").show();
          $("#postedAnnisButton").css("background-color", "#dcccbb");

          $("#postedAnnisButton").click(function(event){
              hideAll();
              $(".postedAnnisList").fadeIn("slow");
              $("#postedAnnisButton").css("background-color", "#dcccbb");
          });

          $("#userMemoriesButton").click(function(event){
              hideAll();
              $(".userMemoriesList").fadeIn("slow");
              $("#userMemoriesButton").css("background-color", "#dcccbb");
          });

          $("#userLikesButton").click(function(event){
              hideAll();
              $(".userLikesList").fadeIn("slow");
              $("#userLikesButton").css("background-color", "#dcccbb");
          });

          $("#userBookmarksButton").click(function(event){
              hideAll();
              $(".userBookmarksList").fadeIn("slow");
              $("#userBookmarksButton").css("background-color", "#dcccbb");
          });

          resizeLayout();
          $("#sideBarBox").show();
          $("#contentBox").show();
        });

        function hideAll() {
          $(".postedAnnisList").hide();
          $(".userMemoriesList").hide();
          $(".userLikesList").hide();
          $(".userBookmarksList").hide();
          let cssStyle = {"background-color": ""};
          $("#postedAnnisButton").css(cssStyle);
          $("#userMemoriesButton").css(cssStyle);
          $("#userLikesButton").css(cssStyle);
          $("#userBookmarksButton").css(cssStyle);
        }

        $(window).resize(function() {
          resizeLayout();
        });

        function resizeLayout() {
          $("#sideBarBox").removeClass();
          $("#contentBox").removeClass();
          if ($(this).width() > 1007) {
            $("#sideBarBox").addClass("pure-u-1-3");
            $("#contentBox").addClass("pure-u-2-3");
          } else {
            $("#sideBarBox").addClass("pure-u-1");
            $("#contentBox").addClass("pure-u-1");
          }
        }
    </script>
  </head>

  <body>
    <!--  nav bar  -->
    <header>
    <div class="navbar-container">
      <div class="mobile-menu-search-container">
        <div id="hamburger-menu-icon">
          <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="20" height="2" rx="1" fill="#C6A48F"/>
            <rect y="14" width="20" height="2" rx="1" fill="#C6A48F"/>
            <rect y="7" width="15" height="2" rx="1" fill="#C6A48F"/>
          </svg>
        </div>


        <div class="mobile-search-icon">
          <i class="fas fa-search"></i>
        </div>
      </div>
      <div class="navbar-left">

        <div class="navbar-logo">
          <svg width="70px" height="52px" viewBox="0 0 70 52" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g id="Desktop-HD" transform="translate(-193.000000, -169.000000)">
                <g id="Group" transform="translate(187.000000, 165.000000)">
                  <path d="M43.7959227,20.5904128 L61.8993215,53.1765306 C63.7768138,56.5560168 62.5592072,60.8176398 59.1797211,62.6951321 C58.1398151,63.2728576 56.9698303,63.5760311 55.7802205,63.5760311 L19.573423,63.5760311 C15.7074297,63.5760311 12.573423,60.4420244 12.573423,56.5760311 C12.573423,55.3864214 12.8765965,54.2164366 13.4543221,53.1765306 L31.5577208,20.5904128 C33.4352131,17.2109267 37.6968362,15.9933201 41.0763223,17.8708124 C42.2190027,18.5056349 43.1611002,19.4477324 43.7959227,20.5904128 Z" id="Triangle-Copy" stroke="#C6A48F" transform="translate(37.676822, 36.576031) rotate(-200.000000) translate(-37.676822, -36.576031) "></path>
                  <text id="anni" font-family="Avenir-Light, Avenir" font-size="24" font-weight="300" fill="#C6A48F">
                    <tspan x="33" y="36">anni</tspan>
                  </text>
                </g>
              </g>
            </g>
          </svg>
        </div>
        <div class="navbar-menu">
          <div class="navbar-menu-item">
            <a href="#">Home</a>
          </div>
          <div class="navbar-menu-item">
            <a href="#">Annis</a>
          </div>
          <div class="navbar-menu-item">
            <a href="#">About</a>
          </div>
        </div>
      </div>

      <div class="navbar-middle">
        <div class="navbar-logo">
          <svg width="70px" height="52px" viewBox="0 0 70 52" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g id="Desktop-HD" transform="translate(-193.000000, -169.000000)">
                <g id="Group" transform="translate(187.000000, 165.000000)">
                  <path d="M43.7959227,20.5904128 L61.8993215,53.1765306 C63.7768138,56.5560168 62.5592072,60.8176398 59.1797211,62.6951321 C58.1398151,63.2728576 56.9698303,63.5760311 55.7802205,63.5760311 L19.573423,63.5760311 C15.7074297,63.5760311 12.573423,60.4420244 12.573423,56.5760311 C12.573423,55.3864214 12.8765965,54.2164366 13.4543221,53.1765306 L31.5577208,20.5904128 C33.4352131,17.2109267 37.6968362,15.9933201 41.0763223,17.8708124 C42.2190027,18.5056349 43.1611002,19.4477324 43.7959227,20.5904128 Z" id="Triangle-Copy" stroke="#C6A48F" transform="translate(37.676822, 36.576031) rotate(-200.000000) translate(-37.676822, -36.576031) "></path>
                  <text id="anni" font-family="Avenir-Light, Avenir" font-size="24" font-weight="300" fill="#C6A48F">
                    <tspan x="33" y="36">anni</tspan>
                  </text>
                </g>
              </g>
            </g>
          </svg>
        </div>
      </div>


      <div class="navbar-right">

        <div class="account-photo">
          <!--<span style="font-size: 35px; color: #bdbdbd; font-weight: normal">-->
            <!--<i class="fas fa-circle"></i>-->
        </div>

        <div class="navbar-button">
          <a href="#" class="button">New Annis</a>
        </div>

        <div class="plus">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect y="9" width="20" height="2" rx="1" fill="#C6A48F"/>
            <rect x="9" y="20" width="20" height="2" rx="1" transform="rotate(-90 9 20)" fill="#C6A48F"/>
          </svg>

        </div>

        <div class="navbar-notification-icon">
          <i class="fas fa-bell"></i>
        </div>

        <div id="navbar-searchbar">
          <div class="navbar-search-input">
            <input type="text" name="searchbar" placeholder="Search">
          </div>
        </div>


        <div id="navbar-search-icon">
          <i class="fas fa-search"></i>
        </div>

        <script>
            $(document).ready(function(){
                $("#navbar-searchbar").hide();
                $("#navbar-search-icon").click(function(){
                    $("#navbar-searchbar").toggle();
                });
            });
        </script>

        <!--<script>-->
            <!--var searchIcon = document.getElementById("navbar-search-icon");-->
            <!--var searchBar = document.getElementById("navbar-searchbar");-->

            <!--searchIcon.onclick = function buttonOnClick() {-->
                <!--searchBar.style.display = "inline-block"; };-->
        <!--</script>-->
      </div>
    </div>

    <div id="mobile-menu">
      <div class="navbar-menu-item">
        <a href="#">Home</a>
      </div>
      <div class="navbar-menu-item">
        <a href="#">Annis</a>
      </div>
      <div class="navbar-menu-item">
        <a href="#">About</a>
      </div>
    </div>

    <script>
        $(document).ready(function(){
            $ ("#mobile-menu").hide();
            $("#hamburger-menu-icon").click(function(){
                $("#mobile-menu").toggle();
            });
        });
    </script>

    <div id="mobile-searchbar">
      <!--<div class="mobile-search-input">-->
        <input type="text" name="searchbar" placeholder="Search">
      </div>
    <!--</div>-->

    <script>
        $(document).ready(function(){
            $ ("#mobile-searchbar").hide();
            $(".mobile-search-icon").click(function(){
                $("#mobile-searchbar").toggle();
            });
        });
    </script>


    <!--<script>-->
        <!--var hamburgerIcon = document.getElementById("hamburger-menu-icon");-->
        <!--var mobileMenu = document.getElementById("mobile-menu");-->

        <!--hamburgerIcon.onclick = function buttonOnClick() {-->
            <!--mobileMenu.style.display = "flex"; };-->
    <!--</script>-->

  </header>

    <div class="pure-g userContainer">
      <div class="pure-u-1 userHeader" style="background-image: url('/images/covers/<%= cover %>');">
        <div class="headerOverlay"></div>
        <!--  dynamically load -->
        <div class="avatar" style="background-image: url('/images/avatars/<%= avatar %>');"></div>
        <div class="avatarText">
          <p class="avatarName"><%= name %></p>
          <p class="avatarInfo"><%= bio %></p>
        </div>
      </div>
      <div class="pure-g mainBox">
        <div id="sideBarBox">
          <!-- sideBar -->
          <div class="sideBar">
            <p class="sideBarTitle">My Page</p>
            <p class="sideBarItem" id="postedAnnisButton">Posted Annis</p>
            <p class="sideBarItem" id="userMemoriesButton">Memories</p>
            <p class="sideBarItem" id="userLikesButton">Likes</p>
            <p class="sideBarItem" id="userBookmarksButton">Bookmarks</p>
          </div>
        </div>
        <div id="contentBox">
          <!--posted Annis-->
          <div class="postedAnnisList">
            <div class="postedAnnis">

              <% if (annis.length === 0) { %>
              <p class="noContent">Nothing can be found here. Try post your first Anni:)</p>
              <% } else { %>

              <% annis.forEach(function(anni){ %>

              <div class="annisContent">
                <div class="contentHeader">
                  <p class="youPosted">You posted</p> <p class="postedAnnisDate">2 days ago</p>
                </div>
                <div class="lineBreak"><hr></div>
                <div class="pure-g">
                  <div class="pure-u-1-5 annisImage" style="background-image: url('/images/annis/<%= anni.cover %>');"></div>
                  <div class="pure-u-4-5 annisText">
                    <p class="annisTitle"><%= anni.title %></p>
                    <% var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'] %>
                    <p class="annisDate"><%= months[anni.month-1] %> <%= anni.day %></p>
                    <p class="annisDescription"><%= anni.desc %></p>
                    <div class="like-bookmark-container">
                      <div class="outline-icon-container2">
                        <div class="outline-icon-like2">
                          <i class="fas fa-heart"></i>
                        </div>
                      </div>
                      <div class="outline-icon-container2">
                        <div class="outline-icon-bookmark2">
                          <i class="fas fa-bookmark"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

                <% }); %>
                <% } %>

            </div>
          </div>

          <!--userMemories-->
          <div class="userMemoriesList">
            <div class="userMemories">

              <% if (comments.length === 0) { %>
                <p class="noContent">Nothing can be found here. Try post your first memory:)</p>
              <% } else { %>

              <% comments.forEach(function(memory){ %>

              <div class="userMemoriesContent">
                <div class="contentHeader">
                  <p class="youLeftMemories">You left memories on <a href="detail-page.html"><%= memory.anniTitle %></a></p>
                  <p class="leftMemoriesDate">4 days ago</p>
                </div>
                <div class="lineBreak"><hr></div>
                <p class="userMemoriesText"><%= memory.content %></p>
                <div class="memo-like-and-comment">
                  <div class="memo-like">
                    <div class="memo-icon">
                      <i class="fas fa-thumbs-up"></i>
                    </div>
                    <div class="memo-stat">
                      <p>12</p>
                    </div>
                  </div>
                  <div class="memo-comment">
                    <div class="memo-icon">
                      <i class="fas fa-comment"></i>
                    </div>
                    <div class="memo-stat">
                      <p>3</p>
                    </div>
                  </div>
                </div>
              </div>

                <% }); %>
                <% } %>

            </div>
          </div>

          <!--user Likes-->
          <div class="userLikesList">
            <div class="postedAnnis">

              <% if (annis.length === 0) { %>
              <p class="noContent">Nothing can be found here. Try like your first new Anni:)</p>
              <% } else { %>

              <% annis.forEach(function(anni){ %>

              <div class="annisContent">
                <div class="contentHeader">
                  <p class="youLiked">You liked</p> <p class="postedAnnisDate">2 days ago</p>
                </div>
                <div class="lineBreak"><hr></div>
                <div class="pure-g">
                  <div class="pure-u-1-5 annisImage" style="background-image: url('/images/annis/<%= anni.cover %>');"></div>
                  <div class="pure-u-4-5 annisText">
                    <p class="annisTitle"><%= anni.title %></p>
                    <% var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'] %>
                    <p class="annisDate"><%= months[anni.month-1] %> <%= anni.day %></p>
                    <p class="annisDescription"><%= anni.desc %></p>
                    <div class="like-bookmark-container">
                      <div class="outline-icon-container2">
                        <div class="outline-icon-like2">
                          <i class="fas fa-heart"></i>
                        </div>
                      </div>
                      <div class="outline-icon-container2">
                        <div class="outline-icon-bookmark2">
                          <i class="fas fa-bookmark"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

                <% }); %>
                <% } %>

            </div>
          </div>

          <!--user Bookmarks-->
          <div class="userBookmarksList">
            <div class="postedAnnis">

              <% if (annis.length === 0) { %>
                <p class="noContent">Nothing can be found here. Try bookmark your first new Anni:)</p>
              <% } else { %>

                <% annis.forEach(function(anni){ %>

                <div class="annisContent">
                  <div class="contentHeader">
                    <p class="youBookmarked">You bookmarked</p> <p class="postedAnnisDate">2 days ago</p>
                  </div>
                  <div class="lineBreak"><hr></div>
                  <div class="pure-g">
                    <div class="pure-u-1-5 annisImage" style="background-image: url('/images/annis/<%= anni.cover %>');"></div>
                    <div class="pure-u-4-5 annisText">
                      <p class="annisTitle"><%= anni.title %></p>
                      <% var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'] %>
                      <p class="annisDate"><%= months[anni.month-1] %> <%= anni.day %></p>
                      <p class="annisDescription"><%= anni.desc %></p>
                      <div class="like-bookmark-container">
                        <div class="outline-icon-container2">
                          <div class="outline-icon-like2">
                            <i class="fas fa-heart"></i>
                          </div>
                        </div>
                        <div class="outline-icon-container2">
                          <div class="outline-icon-bookmark2">
                            <i class="fas fa-bookmark"></i>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <% }); %>
              <% } %>

            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>